
@{
    ViewBag.Tag = "NEW TRANSACTIONS";
    ViewBag.Title = "New Transactions";
}

<style>
    .odd {
        background-color: white;
    }

    .even {
        background-color: #f2dede;
    }
</style>


<div data-bind="visible: isListShowed">
    <div class="row gutter-xs">
        <div class="col-xs-12">
            <div class="card">
                <div class="card-header">
                    <div class="card-actions">
                        <button data-bind="click: NewTransactionPawning" class="btn btn-danger btn-xs btn-labeled" type="submit" id="">
                            <span class="btn-label">
                                <span class="icon icon-plus-circle icon-lg icon-fw"></span>
                            </span>
                            Pawning
                        </button>
                        <button data-bind="" class="btn btn-danger btn-xs btn-labeled" type="submit" id="">
                            <span class="btn-label">
                                <span class="icon icon-plus-circle icon-lg icon-fw"></span>
                            </span>
                            Lay-away
                        </button>
                        <button data-bind="" class="btn btn-danger btn-xs btn-labeled" type="submit" id="">
                            <span class="btn-label">
                                <span class="icon icon-plus-circle icon-lg icon-fw"></span>
                            </span>
                            New Sales
                        </button>
                    </div>
                    <strong>Pawnshop transactions</strong>
                </div>
                <div class="card-body">
                    <table id="transactionTable" class="table table-bordered table-striped table-nowrap dataTable" cellspacing="0">
                        <thead>
                        <tr>
                            <th style="background: #d1202d; color: #ffffff;">Transaction no.</th>
                            <th style="background: #d1202d; color: #ffffff;">Date</th>
                            <th style="background: #d1202d; color: #ffffff;">Transaction Type</th>
                            <th style="background: #d1202d; color: #ffffff;">Customer name</th>
                            <th style="background: #d1202d; color: #ffffff;">Status</th>
                            <th style="background: #d1202d; color: #ffffff;">Action</th>
                        </tr>
                        </thead>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<div data-bind="visible: isCreateModeShow">
    <div class="title-bar">
        <h1 class="title-bar-title">
            <span class="d-ib"><!--ko text: title--><!--/ko--></span>
            <span class="d-ib icon icon-diamond">

            </span>
        </h1>
    </div>
   
    <div class="card">
        <div class="card-header" style="background-color: #f2dede">
            <div class="card-actions">
                <button type="button" class="card-action card-toggler" title="Collapse"></button>
            </div>

            <strong>Transaction</strong>
        </div>
        <div class="card-body">
            <div class="form form-horizontal">
                <div class="form-group">
                    <div class="col-sm-6">

                    </div>
                    <div class="col-sm-3">
                        <label class="col-sm-6 control-label" for="form-control-1">Transaction no.</label>
                        <div class="col-sm-6">
                            <input id="transaction_no" data-bind="textinput: modelAddTransaction.TransactionNo" placeholder="Transaction no." class="form-control" type="text">
                        </div>
                    </div>
                    <div class="col-sm-3">
                        <label class="col-sm-3 control-label" for="form-control-1">Date</label>
                        <div class="col-sm-9">
                            <input id="transaction_date" data-bind="textinput: modelAddTransaction.TransactionDate" placeholder="Date" class="form-control" type="text">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="card">
        <div class="card-header" style="background-color: #f2dede">
            <div class="card-actions">
                <button type="button" class="card-action card-toggler" title="Collapse"></button>
            </div>

            <strong>Customer Profile</strong>
        </div>
        <div class="card-body">
            <div class="form form-horizontal">
                <div class="form-group">
                    <div class="col-sm-6">
                        <label class="col-sm-3 control-label" for="form-control-1">Search customer</label>
                        <div class="col-sm-9">
                            <select id="CustomerId" data-bind="options: customer, optionsValue: 'autonum', optionsText: 'first_name', optionsCaption: '--Select customer--', value: modelAddTransaction.CustomerId, event:{ change: getCustomerById}" data-placeholder="Select customer" class="form-control"></select>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="col-sm-1">
                            <button id="create_customer" data-bind="click: createCustomer" class="btn btn-danger" type="button">New customer</button>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-6">
                        <label class="col-sm-3 control-label" for="form-control-1">Last name</label>
                        <div class="col-sm-9">
                            <input id="last_name" data-bind="textinput: modelAddTransaction.last_name" placeholder="Last name" class="form-control" type="text">
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <label class="col-sm-3 control-label" for="form-control-1">First name</label>
                        <div class="col-sm-9">
                            <input id="first_name" data-bind="textinput: modelAddTransaction.first_name" placeholder="First name" class="form-control" type="text">
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-6">
                        <label class="col-sm-3 control-label" for="form-control-1">Middle name</label>
                        <div class="col-sm-9">
                            <input id="middle_name" data-bind="textinput: modelAddTransaction.middle_name" placeholder="Middle name" class="form-control" type="text">
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <label class="col-sm-3 control-label" for="form-control-1">Street address</label>
                        <div class="col-sm-9">
                            <input id="st_address" data-bind="textinput: modelAddTransaction.st_address" placeholder="Street address" class="form-control" type="text">
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-6">
                        <label class="col-sm-3 control-label" for="form-control-1">City</label>
                        <div class="col-sm-9">
                            <input id="city_address" data-bind="textinput: modelAddTransaction.city_address" placeholder="City" class="form-control" type="text">
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <label class="col-sm-3 control-label" for="form-control-1">Mobile no.</label>
                        <div class="col-sm-9">
                            <input id="mobile_no" data-bind="textinput: modelAddTransaction.mobile_no" placeholder="Mobile no." class="form-control" type="text">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="card">
        <div class="card-header" style="background-color: #f2dede">
            <div class="card-actions">
                <button type="button" class="card-action card-toggler" title="Collapse"></button>
            </div>

            <strong>Item Description</strong>
        </div>
        <div class="card-body">
            <div class="form form-horizontal">
                <div class="form-group">
                    <div class="col-sm-6">
                        <label class="col-sm-3 control-label" for="form-control-1">Item type</label>
                        <div class="col-sm-9">
                            <select required id="ItemTypeId" data-bind="options: itemType, optionsValue: 'ItemTypeId', optionsText: 'ItemTypeName', optionsCaption: '--Select item type--', optionsSelected: modelAddTransaction.ItemTypeId, event:{ change: getItemCategory('')}" class="form-control"></select>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <label class="col-sm-3 control-label" for="form-control-1">Item category</label>
                        <div class="col-sm-9">
                            <select required id="ItemCategoryId" data-bind="options: itemCategory, optionsValue: 'ItemCategoryId', optionsText: 'ItemCategoryName', optionsCaption: '--Select item category--', modelAddTransaction: model.ItemCategoryId" class="form-control"></select>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-6">
                        <label class="col-sm-3 control-label" for="form-control-1">Item name</label>
                        <div class="col-sm-9">
                            <input id="ItemName" data-bind="textinput: modelAddTransaction.ItemName" class="form-control" type="text" >
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <label class="col-sm-3 control-label" for="form-control-1">Remarks</label>
                        <div class="col-sm-9">
                            <textarea id="" data-bind="textinput: modelAddTransaction.Remarks" class="form-control" row="5" col="5"></textarea>
                        </div>
                    </div>
                </div>             
            </div>
        </div>
    </div>
    <div class="text-right">
        <button data-bind="click: backToList" type="submit" class="btn btn-link"><i class="icon icon-arrow-left position-left"></i> Back to list</button>
        <button type="submit" data-bind="click: saveTransactionPawn" class="btn bg-success btn-labeled btn-labeled-right ml-10" id="reset"><b><i class="icon-plus3"></i></b>Save</button>
    </div>
</div>

<div id="modalCreateNewCustomer" tabindex="-1" role="dialog" class="modal fade">
    <div class="modal-dialog modal-lg">
        <div class="modal-content animated flipInX">
            <div class="modal-header" style="background-color: #f2dede">
                <h4 class="modal-title">New customer</h4>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group">
                        <div class="row">
                            <div class="col-sm-4">
                                <label class="control-label">Last name</label>
                                <input data-bind="textinput: modelAddCustomer.last_name" class="form-control" type="text">
                            </div>
                            <div class="col-sm-4">
                                <label class="control-label">First name</label>
                                <input data-bind="textinput: modelAddCustomer.first_name" class="form-control" type="text">
                            </div>
                            <div class="col-sm-4">
                                <label class="control-label">Middle name</label>
                                <input data-bind="textinput: modelAddCustomer.middle_name" class="form-control" type="text">
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col-sm-6">
                                <label class="control-label">Street address</label>
                                <input data-bind="textinput: modelAddCustomer.st_address" class="form-control" type="text">
                            </div>
                            <div class="col-sm-6">
                                <label class="control-label">City address</label>
                                <input data-bind="textinput: modelAddCustomer.city_address" class="form-control" type="text">
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col-sm-6">
                                <label class="control-label">Mobile no.</label>
                                <input data-bind="textinput: modelAddCustomer.mobile_no" class="form-control" type="text">
                            </div>
                            <div class="col-sm-2">
                                <label class="control-label">Zip code</label>
                                <input data-bind="textinput: modelAddCustomer.zip_code" class="form-control" type="text">
                            </div>
                        </div>
                    </div>
                    <div class="text-right">
                        <button data-bind="click: saveCustomer" class="btn btn-success btn-next" type="button"> Save </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

@section scripts{
    <script src="~/Areas/Administrator/Assets/Model/model.js"></script>
    <script src="~/Areas/Administrator/Assets/ViewModel/viewmodel.js"></script>
}
