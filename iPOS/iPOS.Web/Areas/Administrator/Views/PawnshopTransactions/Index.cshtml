@{
    ViewBag.Tag = "PAWNSHOP TRANSACTIONS";
    ViewBag.Title = "Pawnshop Transaction List";
}

<div data-bind="visible: isListShowed">
    <div class="row gutter-xs">
        <div class="col-xs-12">
            <div class="card">
                <div class="card-header">
                    <div class="card-actions">
                        <button data-bind="click: selectTransaction" class="btn btn-success btn-xs btn-labeled" type="submit" id="select_transaction">
                            <span class="btn-label">
                                <span class="icon icon-plus-circle icon-lg icon-fw"></span>
                            </span>
                            Sale
                        </button>
                        <button data-bind="click: selectTransaction" class="btn btn-danger btn-xs btn-labeled" type="submit" id="">
                            <span class="btn-label">
                                <span class="icon icon-plus-circle icon-lg icon-fw"></span>
                            </span>
                            Pawn
                        </button>
                        <button data-bind="click: selectTransaction" class="btn btn-primary btn-xs btn-labeled" type="submit" id="">
                            <span class="btn-label">
                                <span class="icon icon-plus-circle icon-lg icon-fw"></span>
                            </span>
                            Lay-away
                        </button>
                    </div>
                    <strong>Pawnshop transactions</strong>
                </div>
                <div class="card-body">
                    <table id="transactionTable" class="table table-bordered table-striped table-nowrap dataTable" cellspacing="0">
                        <thead>
                            <tr>
                                <th style="background: #d1202d; color: #ffffff;">Transaction no.</th>
                                <th style="background: #d1202d; color: #ffffff;">Date</th>
                                <th style="background: #d1202d; color: #ffffff;">Transaction Type</th>
                                <th style="background: #d1202d; color: #ffffff;">Customer name</th>
                                <th style="background: #d1202d; color: #ffffff;">Status</th>
                                <th style="background: #d1202d; color: #ffffff;">Action</th>
                            </tr>
                        </thead>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<div data-bind="visible: isCreateModeShowedPawning">
    <div class="card">
        <div class="card-header">
            <strong>Pawning</strong>
        </div>
        <div class="card-body">
            <div class="form">

                <div class="form-group">
                    <div class="row">
                        <div class="col-md-3">
                            <label>Transaction no.</label>
                            <input type="text" id="TransactionNo" data-bind="textinput: model.TransactionNo, value: model.TransactionNo" class="form-control">
                        </div>
                        <div class="col-md-3">
                            <label>Date</label>
                            <input type="text" id="TransactionDate" data-bind="textinput: model.TransactionDate, value: model.TransactionDate" class="form-control daterange-single">
                        </div>
                    </div>
                </div>

                <h6>Customer information</h6>

                <div class="form-group">
                    <div class="row">
                        @*<label class="control-label col-lg-1">Customer name<span class="text-danger"> *</span></label>*@
                        <div class="col-md-4">
                            <select id="CustomerId" data-bind="options: customer, optionsValue: 'autonum', optionsText: 'first_name', optionsCaption: '--Select customer--',value: model.CustomerId, event:{ change: getCustomerById}" data-placeholder="Select customer" class="form-control"></select>
                        </div>
                        <div class="col-md-1">
                            <button data-bind="click: newCustomer" class="btn btn-danger" type="button" id="create_customer">New customer</button>
                        </div>
                        <div class="col-md-6"></div>
                    </div>
                </div>

                <div class="form-group">
                    <div class="row">
                        <div class="col-md-6">
                            <label>First name</label>
                            <input type="text" id="" data-bind="textinput: model.first_name" class="form-control">
                        </div>
                        <div class="col-md-6">
                            <label>Last name</label>
                            <input type="text" id="" data-bind="textinput: model.last_name" class="form-control">
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="row">
                        <div class="col-md-6">
                            <label>Address</label>
                            <input type="text" id="" data-bind="textinput: model.st_address" class="form-control">
                        </div>
                        <div class="col-md-6">
                            <label>Contact no.</label>
                            <input type="text" id="" data-bind="textinput: model.mobile_no" class="form-control">
                        </div>
                    </div>
                </div>

                <h6>Item information</h6>

                <div class="form-group">
                    <div class="row">
                        <div class="col-md-6">
                            <label>Item type<span class="text-danger"> *</span></label>
                            <select required id="ItemTypeId" data-bind="options: itemType, optionsValue: 'ItemTypeId', optionsText: 'ItemTypeName', optionsCaption: '--Select item type--', optionsSelected: model.ItemTypeId, value: model.ItemTypeId, event:{ change: getItemCategory('')}" class="form-control"></select>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="row">
                        <div class="col-md-6">
                            <label>Item category<span class="text-danger"> *</span></label>
                            <select required id="ItemCategoryId" data-bind="options: itemCategory, optionsValue: 'ItemCategoryId', optionsText: 'ItemCategoryName', optionsCaption: '--Select item category--', value: model.ItemCategoryId" class="form-control"></select>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <div class="row">
                        <div class="col-md-6">
                            <label>Item name</label>
                            <input type="text" id="ItemName" data-bind="textinput: model.ItemName" class="form-control">
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <div class="row">
                        <div class="col-md-6">
                            <label>Remarks</label>
                            <textarea id="" data-bind="textinput: model.Remarks" class="form-control" row="5" col="5"></textarea>
                        </div>
                    </div>
                </div>
                <div class="text-right">
                    <button data-bind="click: backToList" type="submit" class="btn btn-link"><i class="icon icon-arrow-left position-left"></i> Back to list</button>
                    <button type="submit" data-bind="click: saveTransactionPawn" class="btn bg-success btn-labeled btn-labeled-right ml-10" id="reset"><b><i class="icon-plus3"></i></b><!--ko text: saveButtonCaption--><!--/ko--></button>
                </div>
            </div>
        </div>
    </div>
</div>

<div data-bind="visible: isCreateModeShowedSale">
    <div class="card">
        <div class="card-header">
            <strong>Sale</strong>
        </div>
    </div>
</div>
<div data-bind="visible: isCreateModeShowedLayaway">
    <div class="card">
        <div class="card-header">
            <strong>Sale</strong>
        </div>
    </div>
</div>

<div data-bind="visible: transactions">
    <div class="col-sm-6 col-sm-offset-3 col-md-4 col-md-offset-4">
        <div class="card">
            <div class="card-header" style="background: #d1202d; color: #ffffff">
                <strong>Select transaction</strong>
            </div>
            <div class="card-body">
                <div class="form">
                    <div class="form-group">
                        <button data-bind="click: showCreateModeSale" class="btn btn-pill btn-success btn-block" type="button" id="">Sale</button>
                    </div>
                    <div class="form-group">
                        <button data-bind="click: showCreateModePawning" class="btn btn-pill btn-primary btn-block" type="button" id="">Pawn</button>
                    </div>
                    <div class="form-group">
                        <button data-bind="click: showCreateModeLayaway" class="btn btn-pill btn-danger  btn-block" type="button" id="">Lay-away</button>
                    </div>

                    <div class="text-right">
                        <button data-bind="click: backToList" type="submit" class="btn btn-link"><i class="icon icon-arrow-left position-left"></i> Back to list</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div data-bind="visible: createCustomer">
    <div class="col-sm-6 col-sm-offset-3 col-md-4 col-md-offset-4">
        <div class="card">
            <div class="card-header" style="background: #d1202d; color: #ffffff">
                <strong>New customer</strong>
            </div>
            <div class="card-body">
                <div class="form">
                    <div class="form-group">
                        <label>First name</label>
                        <input type="text" id="first_name" data-bind="textinput: customerModel.first_name" placeholder="first name" class="form-control" autofocus>
                    </div>
                    <div class="form-group">
                        <label>Last name</label>
                        <input type="text" id="last_name" data-bind="textinput: customerModel.last_name" placeholder="last name" class="form-control">
                    </div>
                    <div class="form-group">
                        <label>Middle name</label>
                        <input type="text" id="middle_name" data-bind="textinput: customerModel.middle_name" placeholder="middle name" class="form-control">
                    </div>
                    <div class="form-group">
                        <label>Mobile no</label>
                        <input type="text" id="mobile_no" data-bind="textinput: customerModel.mobile_no" placeholder="mobile no" class="form-control">
                    </div>
                    <div class="form-group">
                        <label>Street address</label>
                        <input type="text" id="st_address" data-bind="textinput: customerModel.st_address" placeholder="street address" class="form-control">
                    </div>
                    <div class="form-group">
                        <label>City address</label>
                        <input type="text" id="city_address" data-bind="textinput: customerModel.city_address" placeholder="city address" class="form-control">
                    </div>
                    <div class="form-group">
                        <label>Zip code</label>
                        <input type="text" id="zip_code" data-bind="textinput: customerModel.zip_code" placeholder="zip code" class="form-control">
                    </div>

                    <div class="text-right">
                        <button data-bind="click: backToNewTransactionPawning" type="submit" class="btn btn-link"><i class="icon icon-arrow-left position-left"></i> Back</button>
                        <button type="submit" data-bind="click: saveCustomer" class="btn bg-success btn-labeled btn-labeled-right ml-10" id="reset"><b><i class="icon-plus3"></i></b><!--ko text: saveButtonCaption--><!--/ko--></button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section scripts{
    <script src="~/Areas/Administrator/Assets/Model/pawnshoptransactions.model.js"></script>
    <script src="~/Areas/Administrator/Assets/ViewModel/pawnshoptransactions.viewmodel.js"></script>
    <script src="~/Scripts/Initialize/Initialize.js"></script>
}






